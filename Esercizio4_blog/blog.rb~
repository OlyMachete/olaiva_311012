require 'sinatra'
require 'slim'
require 'data_mapper'

DataMapper.setup(:default, ENV['DATABASE_URL'] || "sqlite3://#{Dir.pwd}/blog.db")

class Post
	include DataMapper::Resource
	property :id,	Serial
	property :title,	String, :required => true
	property :post,	String, :required => true 
	property :inserted_at,	DateTime
end
DataMapper.finalize

get '/' do
	@posts = Post.all
	slim :index2
end
